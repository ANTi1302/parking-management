package dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.text.SimpleDateFormat;

import connectDB.ConnectDB;
import entity.KhachHang;
import entity.ParkingHistory;

public class ParkingHistory_Dao {

	public boolean create(ParkingHistory pr) {
		ConnectDB.getInstance();
		Connection con=(Connection) ConnectDB.getConnection();
		PreparedStatement stmt=null;
		int n=0;
		try {
			stmt=con.prepareStatement("\r\n"
					+ "INSERT [dbo].[ParkingHistory] ([license_plate],[check_in_at],[check_out_at],[price],[custemer_id]) \r\n"
					+ "VALUES (?,?,?,?,?)");
			stmt.setString(1,pr.getLicense_plate());
			stmt.setString(2,pr.getCheck_in_at());
//			stmt.setDate(9, (Date) nv.getCreated_at());
//			stmt.setDate(10,(Date) nv.getUpdated_at());
			SimpleDateFormat simpleDateFormat=new SimpleDateFormat("yyyy-MM-dd");
			String datecreated= simpleDateFormat.format(nv.getCreated_at());
			stmt.setString(3, datecreated);
			
			n=stmt.executeUpdate();
		} catch (SQLException e) {
			// TODO: handle exception
			e.printStackTrace();
		}
		finally {
			try {
				stmt.close();
			} catch (SQLException e2) {
				// TODO: handle exception
				e2.printStackTrace();
			}
		}return n>0;
	}
}
